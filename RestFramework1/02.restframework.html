<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Django Rest Framework? | Django Blog✍</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/django-blog/images/logo-144.png">
    <link rel="manifest" href="/django-blog/manifest.json">
    <meta name="description" content="Youngjun django Wiki">
    <link rel="preload" href="/django-blog/assets/css/0.styles.829866b3.css" as="style"><link rel="preload" href="/django-blog/assets/js/app.134d9462.js" as="script"><link rel="preload" href="/django-blog/assets/js/2.44d61a62.js" as="script"><link rel="preload" href="/django-blog/assets/js/13.f695110f.js" as="script"><link rel="preload" href="/django-blog/assets/js/15.aac8ce92.js" as="script"><link rel="prefetch" href="/django-blog/assets/js/10.15214cae.js"><link rel="prefetch" href="/django-blog/assets/js/11.759fd2cd.js"><link rel="prefetch" href="/django-blog/assets/js/12.5ae8b0e1.js"><link rel="prefetch" href="/django-blog/assets/js/14.4eb92bfa.js"><link rel="prefetch" href="/django-blog/assets/js/16.7654c9ca.js"><link rel="prefetch" href="/django-blog/assets/js/17.8fd0f2b8.js"><link rel="prefetch" href="/django-blog/assets/js/18.a7b2b44c.js"><link rel="prefetch" href="/django-blog/assets/js/19.8ceb9435.js"><link rel="prefetch" href="/django-blog/assets/js/20.9e7db912.js"><link rel="prefetch" href="/django-blog/assets/js/21.0bdaaa36.js"><link rel="prefetch" href="/django-blog/assets/js/22.885de2e2.js"><link rel="prefetch" href="/django-blog/assets/js/23.a278e534.js"><link rel="prefetch" href="/django-blog/assets/js/3.525667ea.js"><link rel="prefetch" href="/django-blog/assets/js/4.c880d02c.js"><link rel="prefetch" href="/django-blog/assets/js/5.5394f542.js"><link rel="prefetch" href="/django-blog/assets/js/6.1a167852.js"><link rel="prefetch" href="/django-blog/assets/js/7.a087f3fd.js"><link rel="prefetch" href="/django-blog/assets/js/8.acca5ddf.js"><link rel="prefetch" href="/django-blog/assets/js/9.3ecc871d.js">
    <link rel="stylesheet" href="/django-blog/assets/css/0.styles.829866b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/django-blog/" class="home-link router-link-active"><!----> <span class="site-name">Django Blog✍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jun108059/django-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jun108059/django-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dev-youngjun.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💙 Session 1</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💛 Session 2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>💚 Session 3</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/django-blog/RestFramework1/01.restframework.html" class="sidebar-link">REST, RESTful API란?</a></li><li><a href="/django-blog/RestFramework1/02.restframework.html" aria-current="page" class="active sidebar-link">Django Rest Framework?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/django-blog/RestFramework1/02.restframework.html#_1-drf-django-rest-framework-란" class="sidebar-link">1. DRF(Django Rest Framework)란?</a></li><li class="sidebar-sub-header"><a href="/django-blog/RestFramework1/02.restframework.html#_2-django-기본-app-만들기" class="sidebar-link">2. Django 기본 app 만들기</a></li><li class="sidebar-sub-header"><a href="/django-blog/RestFramework1/02.restframework.html#_3-django-rest-framework-설치" class="sidebar-link">3. Django Rest Framework 설치</a></li><li class="sidebar-sub-header"><a href="/django-blog/RestFramework1/02.restframework.html#_4-drf의-핵심-기능-serializer-란" class="sidebar-link">4. DRF의 핵심 기능 - Serializer 란</a></li><li class="sidebar-sub-header"><a href="/django-blog/RestFramework1/02.restframework.html#_5-실행하기" class="sidebar-link">5. 실행하기</a></li></ul></li><li><a href="/django-blog/RestFramework1/httpRequestStatus.html" class="sidebar-link">HTTP 응답 상태 코드</a></li><li><a href="/django-blog/RestFramework1/keyWordContents.html" class="sidebar-link">Web 용어 정리</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💜 Session 4</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="django-rest-framework"><a href="#django-rest-framework" class="header-anchor">#</a> Django Rest Framework?</h1> <p><img src="/django-blog/assets/img/DRFlogo.37921ea7.png" alt="img"></p> <h4 id="🧱preference"><a href="#🧱preference" class="header-anchor">#</a> 🧱Preference</h4> <blockquote><p>Windows10<br>
python 3.7 이상<br>
Git Bash<br>
Django 기본적인 개념<br>
HTTP Method</p></blockquote> <hr> <p>앞서 설명한 REST의 장점과 필요성을 어느정도 이해하였으면, 실제로 사용해보아야겠죠.</p> <h2 id="_1-drf-django-rest-framework-란"><a href="#_1-drf-django-rest-framework-란" class="header-anchor">#</a> 1. DRF(Django Rest Framework)란?</h2> <p>Django 안에서 RESTful API 서버를 쉽게 구축할 수 있도록 도와주는 오픈소스 라이브러리입니다.</p> <p><a href="https://www.django-rest-framework.org/" target="_blank" rel="noopener noreferrer">공식문서<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>에서 설명하는 Django REST Framework를 사용하는 이유는 아래와 같다.</p> <ul><li>웹 브라우저 API는 개발자에게 큰 사용성을 즉 개발을 쉽게 만들어 준다.</li> <li>인증 정책에 OAuth1, OAuth2를 위한 추가적인 패키지가 추가 되어 있는 경우</li> <li>시리얼라이즈 기능을 제공을 해준다. (DB data -&gt; JSON)</li> <li>문서화 및 커뮤니티 지원이 잘 되어있다.</li></ul> <hr> <h2 id="_2-django-기본-app-만들기"><a href="#_2-django-기본-app-만들기" class="header-anchor">#</a> 2. Django 기본 app 만들기</h2> <p>DRF를 사용하기 앞서 기본 구조를 만들기 위해 <a href="https://jun108059.github.io/django-blog/Blogdjango/01.djangoblog.html" target="_blank" rel="noopener noreferrer">이전 세션<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>의 내용을 참고해서 다음과 같은 구조를 만들어봅시다.</p> <div class="language-shell script extra-class"><pre class="language-shell"><code>rest_tutorial
├── api
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── migrations
│   │   └── __init__.py
│   ├── models.py
│   ├── tests.py
│   ├── urls.py
│   └── views.py
├── db.sqlite3
├── manage.py
└── tutorial
    ├── __init__.py
    ├── settings.py
    ├── urls.py
    └── wsgi.py
</code></pre></div><div class="language-shell script extra-class"><pre class="language-shell"><code>$ python -m venv myvenv <span class="token comment"># 가상환경 생성</span>

$ <span class="token builtin class-name">source</span> myvenv/scripts/activate <span class="token comment"># 가상환경 실행</span>

$ pip <span class="token function">install</span> django <span class="token comment"># django 설치</span>

$ django-admin startproject tutorial <span class="token comment">#프로젝트 생성</span>

$ python manage.py startapp api <span class="token comment"># app 생성</span>
</code></pre></div><hr> <h3 id="⏹-2-1-app-기본-mapping"><a href="#⏹-2-1-app-기본-mapping" class="header-anchor">#</a> ⏹ 2.1 app 기본 mapping</h3> <p><a href="https://jun108059.github.io/django-blog/Blogdjango/01.djangoblog.html" target="_blank" rel="noopener noreferrer">이전 세션<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>에서 했던 내용과 거의 동일하기 때문에 참고하시려면 아래 버튼을 눌러서 보시면 됩니다.</p> <details><summary>✍ 기본 설정 살펴보기</summary> <h4 id="_2-1-1-settings-py-설정"><a href="#_2-1-1-settings-py-설정" class="header-anchor">#</a> 2.1.1. settings.py 설정</h4> <p><code>rest_tutorial/tutorial/settings.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code>INSTALL_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token string">'api'</span><span class="token punctuation">,</span> <span class="token comment"># add</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="_2-1-2-views-py-설정"><a href="#_2-1-2-views-py-설정" class="header-anchor">#</a> 2.1.2 views.py 설정</h4> <p><code>rest_tutorial/api/views.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse

<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;Hello, world!&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2-1-3-urls-py-설정"><a href="#_2-1-3-urls-py-설정" class="header-anchor">#</a> 2.1.3 urls.py 설정</h4> <p><code>rest_tutorial/tutorial/urls.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">import</span> api<span class="token punctuation">.</span>views   <span class="token comment"># views.py 에 작성한 hello 함수 불러오기</span>

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> api<span class="token punctuation">.</span>views<span class="token punctuation">.</span>hello<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="_2-1-4-model-생성"><a href="#_2-1-4-model-생성" class="header-anchor">#</a> 2.1.4 Model 생성</h4> <p><code>rest_tutorial/api/models.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token keyword">class</span> <span class="token class-name">Post</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    pub_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token string">'date published'</span><span class="token punctuation">)</span>
    body <span class="token operator">=</span> models<span class="token punctuation">.</span>TextField<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>title

</code></pre></div><p><strong>Migration</strong></p> <div class="language-shell script extra-class"><pre class="language-shell"><code>$ python manage.py makemigrations
$ python manage.py migrate
</code></pre></div><h4 id="_2-1-5-admin-생성"><a href="#_2-1-5-admin-생성" class="header-anchor">#</a> 2.1.5 Admin 생성</h4> <div class="language-shell script extra-class"><pre class="language-shell"><code>$ python manage.py createsuperuser
</code></pre></div><h4 id="_2-1-6-admin에-model-등록"><a href="#_2-1-6-admin에-model-등록" class="header-anchor">#</a> 2.1.6 Admin에 model 등록</h4> <p><code>rest_tutorial/api/admin.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Post

admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Post<span class="token punctuation">)</span>
</code></pre></div><p>기본적인 Setting은 이정도만 해도 좋습니다.</p></details> <hr> <h2 id="_3-django-rest-framework-설치"><a href="#_3-django-rest-framework-설치" class="header-anchor">#</a> 3. Django Rest Framework 설치</h2> <p>Python 가상환경을 실행시켜주고 <code>pip</code>로 간단하게 설치해줄 수 있습니다.</p> <div class="language-shell script extra-class"><pre class="language-shell"><code>pip <span class="token function">install</span> djangorestframework
</code></pre></div><h3 id="⏹-3-1-setting-py-설정에-추가하기"><a href="#⏹-3-1-setting-py-설정에-추가하기" class="header-anchor">#</a> ⏹ 3.1 setting.py 설정에 추가하기</h3> <p><code>rest_tutorial/tutorial/settings.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code>INSTALL_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token string">'api'</span><span class="token punctuation">,</span>
    <span class="token string">'rest_framework'</span><span class="token punctuation">,</span> <span class="token comment"># add</span>
<span class="token punctuation">]</span>
</code></pre></div><hr> <h2 id="_4-drf의-핵심-기능-serializer-란"><a href="#_4-drf의-핵심-기능-serializer-란" class="header-anchor">#</a> 4. DRF의 핵심 기능 - Serializer 란</h2> <p>지난 포스팅에서 알아본 Web이 아닌 Android App과 같은 멀티 플랫폼을 전부 하나의 <code>back-end</code>에서 처리할 수 있는 REST의 장점을 그대로 사용하려면 <code>JSON</code> 등의 데이터 형식을 사용하는게 좋다고 했었죠!</p> <p><strong>Serializer</strong>가 <code>queryset</code>과 <code>모델 인스턴스</code>와 같은 복잡한 데이터를 <code>JSON</code>, <code>XML</code> 또는 다른 콘텐츠 유형으로 쉽게 변환할 수 있는 기능을 제공합니다.</p> <p>받은 데이터의 유효성을 검사한 다음, 복잡한 타입으로 형 변환할 수 있도록 <code>serializeation</code>을 제공하기 때문에 가능합니다.</p> <blockquote><p>물론 SErializer를 통해 모델 인스턴스가 JSON 또는 Dictionary 형태로 <code>직렬화</code>되면 좋은 점은 더 많습니다!</p></blockquote> <hr> <h3 id="⏹-4-1-serializers-py-생성"><a href="#⏹-4-1-serializers-py-생성" class="header-anchor">#</a> ⏹ 4.1 serializers.py 생성</h3> <p>api 폴더 아래에 다음 python 파일을 추가해주세요.</p> <p><code>rest_tutorial/api/serializers.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Post

<span class="token keyword">class</span> <span class="token class-name">PostSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> Post  <span class="token comment"># 모델 설정</span>
        fields <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'pub_date'</span><span class="token punctuation">,</span> <span class="token string">'body'</span><span class="token punctuation">)</span>  <span class="token comment"># 필드 설정</span>
</code></pre></div><h3 id="⏹-4-2-views-py-작성"><a href="#⏹-4-2-views-py-작성" class="header-anchor">#</a> ⏹ 4.2 views.py 작성</h3> <p>DRF는 보통 사람들이 자주 사용하는 공통적인 view 로직을 그룹화 한 <code>viewset</code>을 제공합니다.</p> <p><code>viewset</code>을 사용하게 되면 CRUD 로직을 직접 짜지 않아도 이 기능들이 사용 가능해집니다.</p> <p><s>아무코토</s> 하지 않아도 CRUD 기능이 다 된다는 거죠!</p> <p><code>rest_tutorial/api/views.py</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> viewsets
<span class="token keyword">from</span> <span class="token punctuation">.</span>serializers <span class="token keyword">import</span> ApiSerializer
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Post

<span class="token keyword">class</span> <span class="token class-name">ApiViewSet</span><span class="token punctuation">(</span>viewsets<span class="token punctuation">.</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> Post<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> ApiSerializer
</code></pre></div><h3 id="⏹-4-3-urls-py-작성"><a href="#⏹-4-3-urls-py-작성" class="header-anchor">#</a> ⏹ 4.3 urls.py 작성</h3> <p>DRF는 url을 자동으로 맵핑해주는 router를 제공합니다. 앞서 생성한 viewset을 router에 연결하게 되면 자동으로 url을 맵핑해주어 사용자가 직접 url을 맵핑하지 않아도 됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> routers
<span class="token keyword">from</span> api <span class="token keyword">import</span> views

router <span class="token operator">=</span> routers<span class="token punctuation">.</span>DefaultRouter<span class="token punctuation">(</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">r'posts'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>PostViewSet<span class="token punctuation">)</span>
<span class="token comment"># prefix = posts, viewSet = PostViewSet</span>

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span>router<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>위에서 router.register로  prefix를 'posts'로 설정을 해주었습니다.</p> <p>router는 이를 바탕으로 url을 맵핑하게 됩니다.</p> <div class="language-python extra-class"><pre class="language-python"><code>URL pattern<span class="token punctuation">:</span> <span class="token operator">^</span>posts<span class="token operator">/</span>$ Name<span class="token punctuation">:</span> <span class="token string">'post-list'</span>
</code></pre></div><hr> <h2 id="_5-실행하기"><a href="#_5-실행하기" class="header-anchor">#</a> 5. 실행하기</h2> <div class="language-shell script extra-class"><pre class="language-shell"><code>$ python manage.py runserver
</code></pre></div><h3 id="⏹-5-1-완성"><a href="#⏹-5-1-완성" class="header-anchor">#</a> ⏹ 5.1 완성!</h3> <p>만든 <code>api</code>로 <code>CRUD</code> 요청을 해봅시다.</p> <p>api 요청 uri과 method를 정리해보면 다음과 같습니다.</p> <p><code>GET /posts/</code> : 게시글 리스트 조회</p> <p><code>POST /posts/</code> : 게시글 추가</p> <p><code>PUT /posts/</code> : 게시글 수정</p> <p><code>DELETE /posts/</code> : 게시글 삭제</p> <hr> <p>먼저 <code>localhost:8000</code> 으로 들어가게 되면 해당 화면이 보일 거에요.</p> <p><img src="/django-blog/assets/img/DRF01.7482b316.png" alt="img"></p> <p>posts 링크로 들어가봅시다.</p> <p><img src="/django-blog/assets/img/DRF02.92aef40d.png" alt="img"></p> <p><code>GET /posts/</code>는 게시글 리스트를 요청하는 uri이다.</p> <p>아래 <code>form</code>으로 게시글 정보를 입력해보세요.</p> <p>입력 하고 <code>post</code> 버튼을 누르면 POST 메소드로 <code>/posts/</code> uri에 요청이 가고, 해당 정보가 저장됩니다.</p> <p><img src="/django-blog/assets/img/DRF03.44ef042f.png" alt="img"></p> <hr> <p>나머지 기능도 한번 테스트 해보세요!</p> <p>DRF는 더욱 많은 기능을 제공하고 커스텀할 수 있게 제공되니까
프로젝트를 진행할 때 활용하면 더욱 편리하게 만들 수 있겠죠!</p> <hr> <h4 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h4> <ul><li>https://jamanbbo.tistory.com/43</li> <li>https://www.django-rest-framework.org/tutorial/quickstart/</li></ul> <hr></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/25/2020, 10:50:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/django-blog/RestFramework1/01.restframework.html" class="prev">
        REST, RESTful API란?
      </a></span> <span class="next"><a href="/django-blog/RestFramework1/httpRequestStatus.html">
        HTTP 응답 상태 코드
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/django-blog/assets/js/app.134d9462.js" defer></script><script src="/django-blog/assets/js/2.44d61a62.js" defer></script><script src="/django-blog/assets/js/13.f695110f.js" defer></script><script src="/django-blog/assets/js/15.aac8ce92.js" defer></script>
  </body>
</html>
