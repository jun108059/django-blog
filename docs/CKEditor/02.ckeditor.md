# CKEditor ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ
  
![img](../.vuepress/public/images/Logo.png)  
  
#### ğŸ§±Preference

> Windows10  
> python 3.7 ì´ìƒ  
> Git Bash  
> Django ê¸°ë³¸ êµ¬ì¡°

---

## 1. ì´ë¯¸ì§€ uploader ì„¤ì •

- ì´ë¯¸ì§€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë ¤ë©´ uploaderë¥¼ ì„¤ì •í•´ì•¼í•©ë‹ˆë‹¤.

`blog_ckeditor/settings.py`

```python
INSTALLED_APPS = [
    # ... ìƒëµ
    'blogapp.apps.BlogappConfig',
    'ckeditor',
    â€‹'ckeditor_uploader', # Add
]
```

ë°”ë¡œ ì•„ë˜ì— ì—…ë¡œë“œ íŒŒì¼ì˜ ê²½ë¡œë„ ì§€ì •í•´ì¤ë‹ˆë‹¤.

```python
CKEDITOR_UPLOAD_PATH = "uploads/"
CKEDITOR_IMAGE_BACKEND = "pillow"
```

ë§¨ ì•„ë˜ì— `media` íŒŒì¼ì„ ë¶„ë¥˜í•  ìˆ˜ ìˆëŠ” root ì„¤ì •ë„ í•´ì¤ë‹ˆë‹¤.

```python
MEDIA_URL = '/media/'
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
```

![img](../.vuepress/public/images/ckeditor/test14.png)  

---

## 2. url ì¶”ê°€í•˜ê¸°

`blog_ckeditor/urls.py`

```python
from django.contrib import admin
from django.urls import path
import blogapp.views
from django.conf.urls import include # Add
from django.conf import settings # Add
from django.conf.urls.static import static # Add

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', blogapp.views.index, name='index'),
    path('blogMain/', blogapp.views.blogMain, name='blogMain'),
    path('blogMain/createBlog/', blogapp.views.createBlog, name='createBlog'),
    path('ckeditor/', include('ckeditor_uploader.urls')), # Add
]+ static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT) # Add
```

## 3. models.py ìˆ˜ì •í•˜ê¸°

[models.py]ì—ì„œ íŒŒì¼ ì—…ë¡œë“œ í•„ë“œë¡œ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

`blogapp/models.py`

```python
from django.db import models
# from ckeditor.fields import RichTextField
from ckeditor_uploader.fields import RichTextUploadingField

class Blog(models.Model):
    title = models.CharField(max_length=100)
    pub_date = models.DateTimeField()
    # body = models.TextField()
    # body = RichTextField()
    body = RichTextUploadingField()
```

## 4. migration

```bash
$ python manage.py makemigrations
$ python manage.py migrate
```

## 5. Admin í™•ì¸í•˜ê¸°

Admin pageì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œê°€ ì˜ ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.

![img](../.vuepress/public/images/ckeditor/test15.png)

ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‹¤ìŒ ì°½ì´ ëœ°ê±°ì—ìš”.

![img](../.vuepress/public/images/ckeditor/test16.png)

íŒŒì¼ì„ ì„ íƒí•˜ê³  `Send it to Server` ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ë©´

![img](../.vuepress/public/images/ckeditor/test17.png)

ì´ë ‡ê²Œ ì´ë¯¸ì§€ë¥¼ í¸ì§‘í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

í¬ê¸°ë¥¼ ì¡°ì ˆí•´ì„œ ë„£ì–´ë³¼ê²Œìš”.

![img](../.vuepress/public/images/ckeditor/test18.png)

ì´ë ‡ê²Œ ê¸€ì— ì´ë¯¸ì§€ê°€ í¬í•¨ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì €ì¥í•˜ë©´ ì €í¬ê°€ ì„¤ì •í•œëŒ€ë¡œ `media/uploads` í´ë”ì— ì˜ ì €ì¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

![img](../.vuepress/public/images/ckeditor/test18.png)

---

#### Reference

- https://github.com/django-ckeditor/django-ckeditor
- https://jamanbbo.tistory.com/43 
- https://opentutorials.org/module/4034/24908

---