# CKEditor í…ìŠ¤íŠ¸ ì—ë””í„°
  
![img](../.vuepress/public/images/Logo.png)  
  
#### ğŸ§±Preference

> Windows10  
> python 3.7 ì´ìƒ  
> Git Bash  
> Django ê¸°ë³¸ êµ¬ì¡°

---

#### âœ ì´ì „ blog í”„ë¡œì íŠ¸

CKEditorë¥¼ í™œìš©í•˜ê³  ì‰½ê²Œ ì ìš©í•˜ê¸° ìœ„í•´ ë¦¬ë§ˆì¸ë“œ & í”„ë¡œì íŠ¸ ì„¤ì •ì„ ìœ„í•œ [Blog App](https://jun108059.github.io/django-blog/CKEditor/00.ckeditor.html)ì˜ êµ¬ì„±(form, static ê²½ë¡œ ì„¤ì • ë“±)ì´ í•„ìš”í•©ë‹ˆë‹¤.

ì½ì–´ë³´ì‹œê³  ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤!

#### Directory êµ¬ì¡°

```shell script
blog_ckeditor
â”œâ”€â”€ blog_ckeditor
â”‚   â”œâ”€â”€ templates
â”‚   â”‚   â””â”€â”€ base.html
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ blogapp
â”‚   â”œâ”€â”€ templates
â”‚   â”‚   â””â”€â”€ blogMain.html
â”‚   â”‚   â””â”€â”€ createBlog.html
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ static/css
â”‚   â”‚   â””â”€â”€ cover.css
â”‚   â”‚   â””â”€â”€ navbar-top-fixed.css
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ apps.py
â”‚   â”œâ”€â”€ migrations
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ tests.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â”œâ”€â”€ forms.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ db.sqlite3
â”œâ”€â”€ manage.py
â””â”€â”€ static
    â”œâ”€â”€ admin
    â”‚   â””â”€â”€ css
    â”‚   â””â”€â”€ fonts
    â”‚   â””â”€â”€ img
    â”‚   â””â”€â”€ js
    â”œâ”€â”€ css
    â”‚   â””â”€â”€ cover.css
    â””â”€â”€ â””â”€â”€ navbar-top-fixed.css
```

---

## 1. CKEditor

ì´ë²ˆ Sessionì—ì„œëŠ” ê´€ë¦¬ì ê¸°ëŠ¥ì„ ì¢€ ë” ì˜ í™œìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

ê¸°ì¡´ì— `Text Area`ì˜ Body ì— ê¸€ìë¥¼ ì˜ˆì˜ê²Œ ê¾¸ë°€ ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” `CKEditor`ë¥¼ ì•Œì•„ë´…ì‹œë‹¤.

CKEditorëŠ” `WYSIWYG` ë°©ì‹ì˜ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ì…ë‹ˆë‹¤.

### â¹WYSIWYG?

ìœ„ì§€ìœ„ê·¸ë¼ê³  ì½ìœ¼ë©° What You See Is What You Get ì˜ ì¤„ì„ë§ë¡œì„œ 'ë³´ëŠ”ëŒ€ë¡œ ì–»ëŠ”ë‹¤' ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ë¸”ë¡œê·¸ë‚˜ ì›¹ í˜ì´ì§€ì—ì„œ ê¸€ì„ ì“¸ ë•Œ, ëˆˆì— ë³´ì´ëŠ” ê¸€ì”¨ì˜ ëª¨ì–‘ ê·¸ëŒ€ë¡œ ë¬¸ì„œ í¸ì§‘ì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.

ì°¸ê³ ) [CKEditorë€?](https://ko.wikipedia.org/wiki/CKEditor)

CKEditorëŠ” ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•©ë‹ˆë‹¤.

ì´ íˆ´ì„ ì´ìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ ë¬¸ì„œ í¸ì§‘ ê¸°ëŠ¥ì„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![img](../.vuepress/public/images/ckeditor/ckeditor01.png)  

ê¸°ì¡´ì˜ ë°‹ë°‹í•œ Admin Text Area

---

## 2. CKEditor Tool ì„¤ì¹˜ ë° ë“±ë¡

í„°ë¯¸ë„ì— ì„¤ì¹˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```bash
$ pip install django-ckeditor
```

`[projectFolder]-[settings.py]`

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'blogapp.apps.BlogappConfig',
    'ckeditor', # Add
]
```

### â¹models.py ì ìš©

```python
from django.db import models
from ckeditor.fields import RichTextField

class Blog(models.Model):
    title = models.CharField(max_length=100)
    pub_date = models.DateTimeField()
    # body = models.TextField()
    body = RichTextField()
    
```

### â¹migration

```bash
$ python manage.py makemigrations
$ python manage.py migrate
```

---

## 3. Static files

ì´ì „ Sessionì—ì„œ ì ìš©í–ˆë˜ Static fileì— ê´€í•œ Settingì´ ì„ í–‰ë˜ì–´ì•¼ CKEditorë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ë¦¬ë§ˆì¸ë“œí•˜ë©° ë‹¤ì‹œ static fileë§Œ ì ìš©ì‹œì¼œë´…ì‹œë‹¤.

> ì´ì „ í¬ìŠ¤íŒ…ì„ ê·¸ëŒ€ë¡œ ë”°ë¼ì˜¤ì…¨ë‹¤ë©´ ìƒëµí•˜ì…”ë„ ì¢‹ì•„ìš”!

### â¹setting.py - Static íŒŒì¼ ê²½ë¡œ ì•Œë ¤ì£¼ê¸°

settings.pyì— ê°€ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.

```python
import os

# ... ìƒëµ

STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'blogapp', 'static')
]

STATIC_ROOT = os.path.join(BASE_DIR, 'static')
```

## 4. collectstatic ê´€ë¦¬ ì‹¤í–‰

```bash
$ python manage.py collectstatic
```

static fileì— ëŒ€í•œ ê²½ë¡œë¥¼ ì •í™•íˆ ëª…ì‹œí•´ì£¼ê³  ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ DjangoëŠ” ìƒì„±ëœ í”„ë¡œì íŠ¸ í´ë”ì— `static` í´ë”ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤ë‹ˆë‹¤.

---

## 5. Admin Pageì—ì„œ í™•ì¸

![img](../.vuepress/public/images/ckeditor/test13.png)  


ì´ì œ Text Areaë¥¼ `CKEditor`ì˜ Text Fieldë¡œ ë°”ê¿”ë´…ì‹œë‹¤.

`/blog/models.py/`

```python
from django.db import models
from ckeditor.fields import RichTextField # Add

class Post(models.Model):
    title = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')
    # body = models.TextField()
    body = RichTextField() # Add

    def __str__(self):
        return self.title
```

ì˜ˆì˜ê²Œ í…ìŠ¤íŠ¸ë¥¼ í¸ì§‘í•  ìˆ˜ ìˆëŠ” ì—ë””í„°ê°€ ë³´ì´ë©´ ì„±ê³µì…ë‹ˆë‹¤.

---

#### Reference

- https://github.com/django-ckeditor/django-ckeditor
- https://jamanbbo.tistory.com/43 
- https://opentutorials.org/module/4034/24908

---